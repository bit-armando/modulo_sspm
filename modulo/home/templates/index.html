<!DOCTYPE html>
<html lang="es">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Entrada</title>

    <link href="{% static 'css/styles.css' %}" rel="stylesheet"> 

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

</head>

<body>

    <h1>Registro de Entrada</h1>

    <form method="post" action="{% url 'registrar_entrada' %}">
        {% csrf_token %}

        <div class="nombres">
            <div class="flex nombre">
                <label for="nombres">Nombres:</label>
                <textarea id="nombres" name="nombres" required></textarea>
            </div>
            
            <div class="flex apellido_p">
                <label for="apellido_paterno">Apellido Paterno:</label>
                <textarea id="apellido_paterno" name="apellido_paterno" required></textarea>
            </div>

            <div class="flex apellido_m">
                <label for="apellido_materno">Apellido Materno:</label>
                <textarea id="apellido_materno" name="apellido_materno" required></textarea>
            </div>
        </div>

        <div class="div-central">
            <div class="flex motivos">
                <label for="motivo">Motivo de Visita:</label>
                <textarea id="motivo" name="motivo" required></textarea>
            </div>

            <div class="flex foto">
                <label for="foto">Foto:</label>
                <input type="file" accept="image/*" capture="camera" id="foto" name="foto" onchange="previsualizarFoto(this)">
                <img id="previsualizacion" src="#" alt="Previsualización de la Foto" style="display:none;">
            </div>
        </div>

        
        <div class="div-inferior">
            <div class="flex">
                <label for="departamento">Departamento:</label>
                <select id="departamento" name="departamento" required>
                    <option value="Juridico">Juridico</option>
                    <option value="Visitante">Visitante</option>
                    <option value="Recursos Humanos">Recursos Humanos</option>
                    <option value="Secretaria">Secretaria</option>
                    <!-- Agrega más opciones-->
                </select>
            </div>

            <div class="flex">
                <label for="folio_gafete">Folio de Gafete:</label>
                <input type="number" id="folio_gafete" name="folio_gafete" min="0" required>
            </div>
        </div>
        
        <div class="btn">
            <button type="submit">Registrar Entrada</button>
        </div>
        
    </form>

    <script>
        function previsualizarFoto(input) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#previsualizacion').attr('src', e.target.result).show();
            }
            reader.readAsDataURL(input.files[0]);
        }
    </script>

</body>
</html>
